{"ast":null,"code":"import _regeneratorRuntime from\"/Users/usuario/Desktop/portfolio-aa/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/usuario/Desktop/portfolio-aa/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/usuario/Desktop/portfolio-aa/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useReducer}from\"react\";import clienteAxios from\"../../service/axios\";import studyContext from\"./studyContext\";import studyReducer from\"./studyReducer\";import studiesData from\"../../data/studies.json\";import{AGREGAR_STUDIES,OBTENER_STUDIES,STUDY_ERROR}from\"../../types\";import{jsx as _jsx}from\"react/jsx-runtime\";var StudyState=function StudyState(props){var initialState={studies:studiesData};var _useReducer=useReducer(studyReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var obtenerStudies=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(studies){var resultado,alerta;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return clienteAxios.get(\"/studies\",studies);case 3:resultado=_context.sent;dispatch({type:OBTENER_STUDIES,payload:resultado.data});_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);alerta={msg:\"Hubo un error\",categoria:\"alerta-error\"};dispatch({type:STUDY_ERROR,payload:alerta});case 11:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function obtenerStudies(_x){return _ref.apply(this,arguments);};}();var agregarStudy=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(study){var resultado,alerta;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return clienteAxios.post(\"/studies\",study);case 3:resultado=_context2.sent;dispatch({type:AGREGAR_STUDIES,payload:resultado.data});_context2.next=11;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);alerta={msg:\"Hubo un error\",categoria:\"alerta-error\"};dispatch({type:STUDY_ERROR,payload:alerta});case 11:case\"end\":return _context2.stop();}},_callee2,null,[[0,7]]);}));return function agregarStudy(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(studyContext.Provider,{value:{studies:state.studies,obtenerStudies:obtenerStudies,agregarStudy:agregarStudy},children:props.children});};export default StudyState;","map":{"version":3,"names":["React","useReducer","clienteAxios","studyContext","studyReducer","studiesData","AGREGAR_STUDIES","OBTENER_STUDIES","STUDY_ERROR","jsx","_jsx","StudyState","props","initialState","studies","_useReducer","_useReducer2","_slicedToArray","state","dispatch","obtenerStudies","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resultado","alerta","wrap","_callee$","_context","prev","next","get","sent","type","payload","data","t0","msg","categoria","stop","_x","apply","arguments","agregarStudy","_ref2","_callee2","study","_callee2$","_context2","post","_x2","Provider","value","children"],"sources":["/Users/usuario/Desktop/portfolio-aa/src/context/studies/studyState.js"],"sourcesContent":["import React, { useReducer } from \"react\";\r\nimport clienteAxios from \"../../service/axios\";\r\n\r\nimport studyContext from \"./studyContext\";\r\nimport studyReducer from \"./studyReducer\";\r\nimport studiesData from \"../../data/studies.json\";\r\n\r\nimport { AGREGAR_STUDIES, OBTENER_STUDIES, STUDY_ERROR } from \"../../types\";\r\n\r\nconst StudyState = (props) => {\r\n  const initialState = {\r\n    studies: studiesData,\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(studyReducer, initialState);\r\n\r\n  const obtenerStudies = async (studies) => {\r\n    try {\r\n      const resultado = await clienteAxios.get(\"/studies\", studies);\r\n\r\n      dispatch({\r\n        type: OBTENER_STUDIES,\r\n        payload: resultado.data,\r\n      });\r\n    } catch (error) {\r\n      const alerta = {\r\n        msg: \"Hubo un error\",\r\n        categoria: \"alerta-error\",\r\n      };\r\n      dispatch({\r\n        type: STUDY_ERROR,\r\n        payload: alerta,\r\n      });\r\n    }\r\n  };\r\n\r\n  const agregarStudy = async (study) => {\r\n    try {\r\n      const resultado = await clienteAxios.post(\"/studies\", study);\r\n\r\n      dispatch({\r\n        type: AGREGAR_STUDIES,\r\n        payload: resultado.data,\r\n      });\r\n    } catch (error) {\r\n      const alerta = {\r\n        msg: \"Hubo un error\",\r\n        categoria: \"alerta-error\",\r\n      };\r\n      dispatch({\r\n        type: STUDY_ERROR,\r\n        payload: alerta,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <studyContext.Provider\r\n      value={{\r\n        studies: state.studies,\r\n        obtenerStudies,\r\n        agregarStudy,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </studyContext.Provider>\r\n  );\r\n};\r\n\r\nexport default StudyState;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}