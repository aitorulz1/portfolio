{"ast":null,"code":"import _regeneratorRuntime from\"/Users/usuario/Desktop/portfolio-aa/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/usuario/Desktop/portfolio-aa/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/usuario/Desktop/portfolio-aa/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useReducer}from\"react\";import clienteAxios from\"../../service/axios\";import jobsContext from\"./jobsContext\";import jobsReducer from\"./jobsReducer\";import jobsData from\"../../data/jobs.json\";import{AGREGAR_JOBS,OBTENER_JOBS,ELIMINAR_JOBS,EDITAR_JOB,JOB_ACTUAL,JOB_ERROR}from\"../../types\";import{jsx as _jsx}from\"react/jsx-runtime\";var JobsState=function JobsState(props){var initialState={formulario:false,jobs:jobsData};var _useReducer=useReducer(jobsReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var obtenerJobs=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(jobs){var alerta;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:try{dispatch({type:OBTENER_JOBS,payload:jobsData});}catch(error){alerta={msg:\"Hubo un error\",categoria:\"alerta-error\"};dispatch({type:JOB_ERROR,payload:alerta});}case 1:case\"end\":return _context.stop();}},_callee);}));return function obtenerJobs(_x){return _ref.apply(this,arguments);};}();var agregarJobs=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(job){var resultado,alerta;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return clienteAxios.post(\"/jobs\",job);case 3:resultado=_context2.sent;dispatch({type:AGREGAR_JOBS,payload:resultado.data});_context2.next=11;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);alerta={msg:\"Hubo un error\",categoria:\"alerta-error\"};dispatch({type:JOB_ERROR,payload:alerta});case 11:case\"end\":return _context2.stop();}},_callee2,null,[[0,7]]);}));return function agregarJobs(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(jobsContext.Provider,{value:{formulario:state.formulario,jobs:state.jobs,obtenerJobs:obtenerJobs,agregarJobs:agregarJobs},children:props.children});};export default JobsState;","map":{"version":3,"names":["React","useReducer","clienteAxios","jobsContext","jobsReducer","jobsData","AGREGAR_JOBS","OBTENER_JOBS","ELIMINAR_JOBS","EDITAR_JOB","JOB_ACTUAL","JOB_ERROR","jsx","_jsx","JobsState","props","initialState","formulario","jobs","_useReducer","_useReducer2","_slicedToArray","state","dispatch","obtenerJobs","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","alerta","wrap","_callee$","_context","prev","next","type","payload","error","msg","categoria","stop","_x","apply","arguments","agregarJobs","_ref2","_callee2","job","resultado","_callee2$","_context2","post","sent","data","t0","_x2","Provider","value","children"],"sources":["/Users/usuario/Desktop/portfolio-aa/src/context/jobs/jobsState.js"],"sourcesContent":["import React, { useReducer } from \"react\";\r\nimport clienteAxios from \"../../service/axios\";\r\n\r\nimport jobsContext from \"./jobsContext\";\r\nimport jobsReducer from \"./jobsReducer\";\r\nimport jobsData from \"../../data/jobs.json\";\r\n\r\nimport {\r\n  AGREGAR_JOBS,\r\n  OBTENER_JOBS,\r\n  ELIMINAR_JOBS,\r\n  EDITAR_JOB,\r\n  JOB_ACTUAL,\r\n  JOB_ERROR,\r\n} from \"../../types\";\r\n\r\nconst JobsState = (props) => {\r\n  const initialState = {\r\n    formulario: false,\r\n    jobs: jobsData,\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(jobsReducer, initialState);\r\n\r\n  const obtenerJobs = async (jobs) => {\r\n    try {\r\n      dispatch({\r\n        type: OBTENER_JOBS,\r\n        payload: jobsData,\r\n      });\r\n    } catch (error) {\r\n      const alerta = {\r\n        msg: \"Hubo un error\",\r\n        categoria: \"alerta-error\",\r\n      };\r\n      dispatch({\r\n        type: JOB_ERROR,\r\n        payload: alerta,\r\n      });\r\n    }\r\n  };\r\n\r\n  const agregarJobs = async (job) => {\r\n    try {\r\n      const resultado = await clienteAxios.post(\"/jobs\", job);\r\n\r\n      dispatch({\r\n        type: AGREGAR_JOBS,\r\n        payload: resultado.data,\r\n      });\r\n    } catch (error) {\r\n      const alerta = {\r\n        msg: \"Hubo un error\",\r\n        categoria: \"alerta-error\",\r\n      };\r\n      dispatch({\r\n        type: JOB_ERROR,\r\n        payload: alerta,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <jobsContext.Provider\r\n      value={{\r\n        formulario: state.formulario,\r\n        jobs: state.jobs,\r\n        obtenerJobs,\r\n        agregarJobs,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </jobsContext.Provider>\r\n  );\r\n};\r\n\r\nexport default JobsState;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}