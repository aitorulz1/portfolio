{"ast":null,"code":"import _regeneratorRuntime from\"/Users/usuario/Desktop/portfolio-cliente-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/usuario/Desktop/portfolio-cliente-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/usuario/Desktop/portfolio-cliente-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useReducer}from\"react\";import clienteAxios from\"../../service/axios\";import studyContext from\"./studyContext\";import studyReducer from\"./studyReducer\";import studiesData from\"../../data/studies.json\";import{AGREGAR_STUDIES,OBTENER_STUDIES,STUDY_ERROR}from\"../../types\";var StudyState=function StudyState(props){var initialState={studies:studiesData};var _useReducer=useReducer(studyReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var obtenerStudies=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(studies){var resultado,alerta;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return clienteAxios.get(\"/studies\",studies);case 3:resultado=_context.sent;dispatch({type:OBTENER_STUDIES,payload:resultado.data});_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);alerta={msg:\"Hubo un error\",categoria:\"alerta-error\"};dispatch({type:STUDY_ERROR,payload:alerta});case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function obtenerStudies(_x){return _ref.apply(this,arguments);};}();var agregarStudy=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(study){var resultado,alerta;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return clienteAxios.post(\"/studies\",study);case 3:resultado=_context2.sent;dispatch({type:AGREGAR_STUDIES,payload:resultado.data});_context2.next=11;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);alerta={msg:\"Hubo un error\",categoria:\"alerta-error\"};dispatch({type:STUDY_ERROR,payload:alerta});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function agregarStudy(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(studyContext.Provider,{value:{studies:state.studies,obtenerStudies:obtenerStudies,agregarStudy:agregarStudy},children:props.children});};export default StudyState;","map":{"version":3,"sources":["/Users/usuario/Desktop/portfolio-cliente-main/src/context/studies/studyState.js"],"names":["React","useReducer","clienteAxios","studyContext","studyReducer","studiesData","AGREGAR_STUDIES","OBTENER_STUDIES","STUDY_ERROR","StudyState","props","initialState","studies","state","dispatch","obtenerStudies","get","resultado","type","payload","data","alerta","msg","categoria","agregarStudy","study","post","children"],"mappings":"ohBAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,MAAOC,CAAAA,YAAP,KAAyB,qBAAzB,CAEA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,yBAAxB,CAEA,OAASC,eAAT,CAA0BC,eAA1B,CAA2CC,WAA3C,KAA8D,aAA9D,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,CAC5B,GAAMC,CAAAA,YAAY,CAAG,CACnBC,OAAO,CAAEP,WADU,CAArB,CAD4B,gBAKFJ,UAAU,CAACG,YAAD,CAAeO,YAAf,CALR,4CAKrBE,KALqB,iBAKdC,QALc,iBAO5B,GAAMC,CAAAA,cAAc,0FAAG,iBAAOH,OAAP,6KAEKV,CAAAA,YAAY,CAACc,GAAb,CAAiB,UAAjB,CAA6BJ,OAA7B,CAFL,QAEbK,SAFa,eAInBH,QAAQ,CAAC,CACPI,IAAI,CAAEX,eADC,CAEPY,OAAO,CAAEF,SAAS,CAACG,IAFZ,CAAD,CAAR,CAJmB,+EASbC,MATa,CASJ,CACbC,GAAG,CAAE,eADQ,CAEbC,SAAS,CAAE,cAFE,CATI,CAanBT,QAAQ,CAAC,CACPI,IAAI,CAAEV,WADC,CAEPW,OAAO,CAAEE,MAFF,CAAD,CAAR,CAbmB,oEAAH,kBAAdN,CAAAA,cAAc,4CAApB,CAoBA,GAAMS,CAAAA,YAAY,2FAAG,kBAAOC,KAAP,mLAEOvB,CAAAA,YAAY,CAACwB,IAAb,CAAkB,UAAlB,CAA8BD,KAA9B,CAFP,QAEXR,SAFW,gBAIjBH,QAAQ,CAAC,CACPI,IAAI,CAAEZ,eADC,CAEPa,OAAO,CAAEF,SAAS,CAACG,IAFZ,CAAD,CAAR,CAJiB,mFASXC,MATW,CASF,CACbC,GAAG,CAAE,eADQ,CAEbC,SAAS,CAAE,cAFE,CATE,CAajBT,QAAQ,CAAC,CACPI,IAAI,CAAEV,WADC,CAEPW,OAAO,CAAEE,MAFF,CAAD,CAAR,CAbiB,sEAAH,kBAAZG,CAAAA,YAAY,8CAAlB,CAoBA,mBACE,KAAC,YAAD,CAAc,QAAd,EACE,KAAK,CAAE,CACLZ,OAAO,CAAEC,KAAK,CAACD,OADV,CAELG,cAAc,CAAdA,cAFK,CAGLS,YAAY,CAAZA,YAHK,CADT,UAOGd,KAAK,CAACiB,QAPT,EADF,CAWD,CA1DD,CA4DA,cAAelB,CAAAA,UAAf","sourcesContent":["import React, { useReducer } from \"react\";\r\nimport clienteAxios from \"../../service/axios\";\r\n\r\nimport studyContext from \"./studyContext\";\r\nimport studyReducer from \"./studyReducer\";\r\nimport studiesData from \"../../data/studies.json\";\r\n\r\nimport { AGREGAR_STUDIES, OBTENER_STUDIES, STUDY_ERROR } from \"../../types\";\r\n\r\nconst StudyState = (props) => {\r\n  const initialState = {\r\n    studies: studiesData,\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(studyReducer, initialState);\r\n\r\n  const obtenerStudies = async (studies) => {\r\n    try {\r\n      const resultado = await clienteAxios.get(\"/studies\", studies);\r\n\r\n      dispatch({\r\n        type: OBTENER_STUDIES,\r\n        payload: resultado.data,\r\n      });\r\n    } catch (error) {\r\n      const alerta = {\r\n        msg: \"Hubo un error\",\r\n        categoria: \"alerta-error\",\r\n      };\r\n      dispatch({\r\n        type: STUDY_ERROR,\r\n        payload: alerta,\r\n      });\r\n    }\r\n  };\r\n\r\n  const agregarStudy = async (study) => {\r\n    try {\r\n      const resultado = await clienteAxios.post(\"/studies\", study);\r\n\r\n      dispatch({\r\n        type: AGREGAR_STUDIES,\r\n        payload: resultado.data,\r\n      });\r\n    } catch (error) {\r\n      const alerta = {\r\n        msg: \"Hubo un error\",\r\n        categoria: \"alerta-error\",\r\n      };\r\n      dispatch({\r\n        type: STUDY_ERROR,\r\n        payload: alerta,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <studyContext.Provider\r\n      value={{\r\n        studies: state.studies,\r\n        obtenerStudies,\r\n        agregarStudy,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </studyContext.Provider>\r\n  );\r\n};\r\n\r\nexport default StudyState;\r\n"]},"metadata":{},"sourceType":"module"}