{"ast":null,"code":"import _regeneratorRuntime from\"/Users/usuario/Desktop/portfolio-cliente-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/usuario/Desktop/portfolio-cliente-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/usuario/Desktop/portfolio-cliente-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useReducer}from\"react\";import clienteAxios from\"../../service/axios\";import jobsContext from\"./jobsContext\";import jobsReducer from\"./jobsReducer\";import jobsData from\"../../data/jobs.json\";import{AGREGAR_JOBS,OBTENER_JOBS,ELIMINAR_JOBS,EDITAR_JOB,JOB_ACTUAL,JOB_ERROR}from\"../../types\";var JobsState=function JobsState(props){var initialState={formulario:false,jobs:jobsData};var _useReducer=useReducer(jobsReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var obtenerJobs=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(jobs){var alerta;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:try{dispatch({type:OBTENER_JOBS,payload:jobsData});}catch(error){alerta={msg:\"Hubo un error\",categoria:\"alerta-error\"};dispatch({type:JOB_ERROR,payload:alerta});}case 1:case\"end\":return _context.stop();}}},_callee);}));return function obtenerJobs(_x){return _ref.apply(this,arguments);};}();var agregarJobs=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(job){var resultado,alerta;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return clienteAxios.post(\"/jobs\",job);case 3:resultado=_context2.sent;dispatch({type:AGREGAR_JOBS,payload:resultado.data});_context2.next=11;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);alerta={msg:\"Hubo un error\",categoria:\"alerta-error\"};dispatch({type:JOB_ERROR,payload:alerta});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function agregarJobs(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(jobsContext.Provider,{value:{formulario:state.formulario,jobs:state.jobs,obtenerJobs:obtenerJobs,agregarJobs:agregarJobs},children:props.children});};export default JobsState;","map":{"version":3,"sources":["/Users/usuario/Desktop/portfolio-cliente-main/src/context/jobs/jobsState.js"],"names":["React","useReducer","clienteAxios","jobsContext","jobsReducer","jobsData","AGREGAR_JOBS","OBTENER_JOBS","ELIMINAR_JOBS","EDITAR_JOB","JOB_ACTUAL","JOB_ERROR","JobsState","props","initialState","formulario","jobs","state","dispatch","obtenerJobs","type","payload","error","alerta","msg","categoria","agregarJobs","job","post","resultado","data","children"],"mappings":"ohBAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,MAAOC,CAAAA,YAAP,KAAyB,qBAAzB,CAEA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,sBAArB,CAEA,OACEC,YADF,CAEEC,YAFF,CAGEC,aAHF,CAIEC,UAJF,CAKEC,UALF,CAMEC,SANF,KAOO,aAPP,CASA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAW,CAC3B,GAAMC,CAAAA,YAAY,CAAG,CACnBC,UAAU,CAAE,KADO,CAEnBC,IAAI,CAAEX,QAFa,CAArB,CAD2B,gBAMDJ,UAAU,CAACG,WAAD,CAAcU,YAAd,CANT,4CAMpBG,KANoB,iBAMbC,QANa,iBAQ3B,GAAMC,CAAAA,WAAW,0FAAG,iBAAOH,IAAP,6HAClB,GAAI,CACFE,QAAQ,CAAC,CACPE,IAAI,CAAEb,YADC,CAEPc,OAAO,CAAEhB,QAFF,CAAD,CAAR,CAID,CAAC,MAAOiB,KAAP,CAAc,CACRC,MADQ,CACC,CACbC,GAAG,CAAE,eADQ,CAEbC,SAAS,CAAE,cAFE,CADD,CAKdP,QAAQ,CAAC,CACPE,IAAI,CAAET,SADC,CAEPU,OAAO,CAAEE,MAFF,CAAD,CAAR,CAID,CAfiB,sDAAH,kBAAXJ,CAAAA,WAAW,4CAAjB,CAkBA,GAAMO,CAAAA,WAAW,2FAAG,kBAAOC,GAAP,mLAEQzB,CAAAA,YAAY,CAAC0B,IAAb,CAAkB,OAAlB,CAA2BD,GAA3B,CAFR,QAEVE,SAFU,gBAIhBX,QAAQ,CAAC,CACPE,IAAI,CAAEd,YADC,CAEPe,OAAO,CAAEQ,SAAS,CAACC,IAFZ,CAAD,CAAR,CAJgB,mFASVP,MATU,CASD,CACbC,GAAG,CAAE,eADQ,CAEbC,SAAS,CAAE,cAFE,CATC,CAahBP,QAAQ,CAAC,CACPE,IAAI,CAAET,SADC,CAEPU,OAAO,CAAEE,MAFF,CAAD,CAAR,CAbgB,sEAAH,kBAAXG,CAAAA,WAAW,8CAAjB,CAoBA,mBACE,KAAC,WAAD,CAAa,QAAb,EACE,KAAK,CAAE,CACLX,UAAU,CAAEE,KAAK,CAACF,UADb,CAELC,IAAI,CAAEC,KAAK,CAACD,IAFP,CAGLG,WAAW,CAAXA,WAHK,CAILO,WAAW,CAAXA,WAJK,CADT,UAQGb,KAAK,CAACkB,QART,EADF,CAYD,CA1DD,CA4DA,cAAenB,CAAAA,SAAf","sourcesContent":["import React, { useReducer } from \"react\";\r\nimport clienteAxios from \"../../service/axios\";\r\n\r\nimport jobsContext from \"./jobsContext\";\r\nimport jobsReducer from \"./jobsReducer\";\r\nimport jobsData from \"../../data/jobs.json\";\r\n\r\nimport {\r\n  AGREGAR_JOBS,\r\n  OBTENER_JOBS,\r\n  ELIMINAR_JOBS,\r\n  EDITAR_JOB,\r\n  JOB_ACTUAL,\r\n  JOB_ERROR,\r\n} from \"../../types\";\r\n\r\nconst JobsState = (props) => {\r\n  const initialState = {\r\n    formulario: false,\r\n    jobs: jobsData,\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(jobsReducer, initialState);\r\n\r\n  const obtenerJobs = async (jobs) => {\r\n    try {\r\n      dispatch({\r\n        type: OBTENER_JOBS,\r\n        payload: jobsData,\r\n      });\r\n    } catch (error) {\r\n      const alerta = {\r\n        msg: \"Hubo un error\",\r\n        categoria: \"alerta-error\",\r\n      };\r\n      dispatch({\r\n        type: JOB_ERROR,\r\n        payload: alerta,\r\n      });\r\n    }\r\n  };\r\n\r\n  const agregarJobs = async (job) => {\r\n    try {\r\n      const resultado = await clienteAxios.post(\"/jobs\", job);\r\n\r\n      dispatch({\r\n        type: AGREGAR_JOBS,\r\n        payload: resultado.data,\r\n      });\r\n    } catch (error) {\r\n      const alerta = {\r\n        msg: \"Hubo un error\",\r\n        categoria: \"alerta-error\",\r\n      };\r\n      dispatch({\r\n        type: JOB_ERROR,\r\n        payload: alerta,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <jobsContext.Provider\r\n      value={{\r\n        formulario: state.formulario,\r\n        jobs: state.jobs,\r\n        obtenerJobs,\r\n        agregarJobs,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </jobsContext.Provider>\r\n  );\r\n};\r\n\r\nexport default JobsState;\r\n"]},"metadata":{},"sourceType":"module"}