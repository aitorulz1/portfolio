{"ast":null,"code":"import _defineProperty from\"/Users/usuario/Desktop/portfolio-cliente-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/usuario/Desktop/portfolio-cliente-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/usuario/Desktop/portfolio-cliente-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Fragment,useState,useEffect,useContext}from\"react\";import clienteAxios from\"../../service/axios\";import proyectoContext from\"../../context/proyectos/proyectoContext\";import Select from\"react-select\";import\"./css/ProyectoNuevo.css\";export default function ProyectoNuevo(props){var proyectosContext=useContext(proyectoContext);var agregarProyecto=proyectosContext.agregarProyecto;var _useState=useState({name:\"\",productPicture:\"\",category:\"\",description:\"\",linkto:\"\",github:\"\",video:\"\",skill:[],begin:\"\",end:\"\"}),_useState2=_slicedToArray(_useState,2),proyecto=_useState2[0],guardarProyecto=_useState2[1];var name=proyecto.name,productPicture=proyecto.productPicture,category=proyecto.category,description=proyecto.description,linkto=proyecto.linkto,github=proyecto.github,video=proyecto.video,skill=proyecto.skill,begin=proyecto.begin,end=proyecto.end;var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),skills=_useState4[0],getSkills=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],guardarError=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),categorias=_useState8[0],guardarCategorias=_useState8[1];// useEffect(() => {\n//   const getData = async () => {\n//     try {\n//       const respuesta = await clienteAxios.get(\"/categories\");\n//       guardarCategorias(respuesta.data);\n//     } catch (error) {\n//       console.error(error);\n//     }\n//   };\n//   getData();\n//   const getFeatures = async () => {\n//     try {\n//       const resultado = await clienteAxios.get(\"/skills\");\n//       getSkills(resultado.data);\n//     } catch (error) {\n//       console.error(error);\n//     }\n//   };\n//   getFeatures();\n// }, []);\nvar newOne=skills.map(function(s,i){return{value:s.skills,label:s.skills};});var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),selectedValue=_useState10[0],setSelectedValue=_useState10[1];var handleChange=function handleChange(e){setSelectedValue(Array.isArray(e)?e.map(function(x){return x.value;}):[]);};var onChange=function onChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value,files=_e$target.files,file=_e$target.file;guardarProyecto(_objectSpread(_objectSpread({},proyecto),{},_defineProperty({},name,files?files[0]:value)));console.log(files&&files[0]);console.log(file);};var onSubmit=function onSubmit(e){e.preventDefault();if(name.trim()===\"\"||category.trim()===\"\"||description.trim()===\"\"||begin.trim()===\"\"||end.trim()===\"\"){guardarError(true);setTimeout(function(){guardarError(false);},3000);return;}guardarError(false);// Cloudinary\nvar data=new FormData();data.append(\"file\",proyecto.productPicture);data.append(\"upload_preset\",\"portfolio-aitor\");data.append(\"cloud_name\",\"aitorcloud\");fetch(\"https://api.cloudinary.com/v1_1/aitorcloud/image/upload\",{method:\"post\",body:data}).then(function(res){return res.json();}).then(function(file){console.log(file.secure_url);console.log(file);// Agrego el producto\nagregarProyecto({name:name,productPicture:file.secure_url,category:category,description:description,linkto:linkto,github:github,skill:selectedValue,video:video,begin:begin,end:end});}).catch(function(err){console.log(err);});guardarProyecto({name:\"\",productPicture:\"\",category:\"\",description:\"\",begin:\"\",linto:\"\",github:\"\",skill:[],video:\"\",end:\"\"});console.log(proyecto);};return/*#__PURE__*/_jsx(\"div\",{className:\"proyect-form-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"proyect-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"title-container\",children:[\"New Project\",/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-project-diagram\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,encType:\"multipart/form-data\",children:[error?/*#__PURE__*/_jsx(\"div\",{className:\"error-red\",children:\"Completa todos los campos\"}):null,/*#__PURE__*/_jsx(\"div\",{className:\"cajetin-form\",children:/*#__PURE__*/_jsx(\"input\",{className:\"line-form\",type:\"text\",name:\"name\",placeholder:\"nombre\",value:name,onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"cajetin-form\",children:/*#__PURE__*/_jsxs(\"label\",{class:\"custom-file-upload\",children:[\"Select File \",/*#__PURE__*/_jsx(\"i\",{class:\"far fa-file\"}),/*#__PURE__*/_jsx(\"input\",{className:\"line-form\",type:\"file\",name:\"productPicture\",id:\"productPicture\",placeholder:\"imagen\",onChange:onChange})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"cajetin-form\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"line-form\",name:\"category\",onChange:onChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"select\",children:\"Select...\"}),categorias.map(function(categorySelect){return/*#__PURE__*/_jsx(\"option\",{value:categorySelect.category,children:categorySelect.category},categorySelect.id);})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"cajetin-form\",children:/*#__PURE__*/_jsx(Select,{isMulti:true,className:\"line-form-select\",options:newOne,value:newOne.filter(function(obj){return selectedValue.includes(obj.value);}),onChange:handleChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"cajetin-form\",children:/*#__PURE__*/_jsx(\"input\",{className:\"line-form\",type:\"text\",name:\"description\",placeholder:\"descripci\\xF3n\",value:description,onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"cajetin-form\",children:/*#__PURE__*/_jsx(\"input\",{className:\"line-form\",type:\"text\",name:\"linkto\",placeholder:\"linkto\",value:linkto,onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"cajetin-form\",children:/*#__PURE__*/_jsx(\"input\",{className:\"line-form\",type:\"text\",name:\"github\",placeholder:\"github\",value:github,onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"cajetin-form\",children:/*#__PURE__*/_jsx(\"input\",{className:\"line-form\",type:\"text\",name:\"video\",placeholder:\"video\",value:video,onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"cajetin-form\",children:/*#__PURE__*/_jsx(\"input\",{className:\"line-form\",type:\"date\",name:\"begin\",placeholder:\"incicio\",value:begin,onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"cajetin-form\",children:/*#__PURE__*/_jsx(\"input\",{className:\"line-form\",type:\"date\",name:\"end\",placeholder:\"finalizado\",value:end,onChange:onChange})}),/*#__PURE__*/_jsx(\"button\",{className:\"form-button\",type:\"submit\",value:\"Subir Proyecto\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-arrow-circle-up\",alt:\"upload project\"})})]})]})});}","map":{"version":3,"sources":["/Users/usuario/Desktop/portfolio-cliente-main/src/components/Proyectos/ProyectoNuevo.js"],"names":["React","Fragment","useState","useEffect","useContext","clienteAxios","proyectoContext","Select","ProyectoNuevo","props","proyectosContext","agregarProyecto","name","productPicture","category","description","linkto","github","video","skill","begin","end","proyecto","guardarProyecto","skills","getSkills","error","guardarError","categorias","guardarCategorias","newOne","map","s","i","value","label","selectedValue","setSelectedValue","handleChange","e","Array","isArray","x","onChange","target","files","file","console","log","onSubmit","preventDefault","trim","setTimeout","data","FormData","append","fetch","method","body","then","res","json","secure_url","catch","err","linto","categorySelect","id","filter","obj","includes"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect, useContext } from \"react\";\r\nimport clienteAxios from \"../../service/axios\";\r\n\r\nimport proyectoContext from \"../../context/proyectos/proyectoContext\";\r\nimport Select from \"react-select\";\r\n\r\nimport \"./css/ProyectoNuevo.css\";\r\n\r\nexport default function ProyectoNuevo(props) {\r\n  const proyectosContext = useContext(proyectoContext);\r\n  const { agregarProyecto } = proyectosContext;\r\n\r\n  const [proyecto, guardarProyecto] = useState({\r\n    name: \"\",\r\n    productPicture: \"\",\r\n    category: \"\",\r\n    description: \"\",\r\n    linkto: \"\",\r\n    github: \"\",\r\n    video: \"\",\r\n    skill: [],\r\n    begin: \"\",\r\n    end: \"\",\r\n  });\r\n\r\n  const {\r\n    name,\r\n    productPicture,\r\n    category,\r\n    description,\r\n    linkto,\r\n    github,\r\n    video,\r\n    skill,\r\n    begin,\r\n    end,\r\n  } = proyecto;\r\n\r\n  const [skills, getSkills] = useState([]);\r\n\r\n  const [error, guardarError] = useState(false);\r\n\r\n  const [categorias, guardarCategorias] = useState([]);\r\n\r\n  // useEffect(() => {\r\n  //   const getData = async () => {\r\n  //     try {\r\n  //       const respuesta = await clienteAxios.get(\"/categories\");\r\n  //       guardarCategorias(respuesta.data);\r\n  //     } catch (error) {\r\n  //       console.error(error);\r\n  //     }\r\n  //   };\r\n  //   getData();\r\n\r\n  //   const getFeatures = async () => {\r\n  //     try {\r\n  //       const resultado = await clienteAxios.get(\"/skills\");\r\n  //       getSkills(resultado.data);\r\n  //     } catch (error) {\r\n  //       console.error(error);\r\n  //     }\r\n  //   };\r\n  //   getFeatures();\r\n  // }, []);\r\n\r\n  const newOne = skills.map((s, i) => ({ value: s.skills, label: s.skills }));\r\n\r\n  const [selectedValue, setSelectedValue] = useState([]);\r\n\r\n  const handleChange = (e) => {\r\n    setSelectedValue(Array.isArray(e) ? e.map((x) => x.value) : []);\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    const { name, value, files, file } = e.target;\r\n    guardarProyecto({\r\n      ...proyecto,\r\n      [name]: files ? files[0] : value,\r\n    });\r\n    console.log(files && files[0]);\r\n    console.log(file);\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (\r\n      name.trim() === \"\" ||\r\n      category.trim() === \"\" ||\r\n      description.trim() === \"\" ||\r\n      begin.trim() === \"\" ||\r\n      end.trim() === \"\"\r\n    ) {\r\n      guardarError(true);\r\n\r\n      setTimeout(() => {\r\n        guardarError(false);\r\n      }, 3000);\r\n      return;\r\n    }\r\n\r\n    guardarError(false);\r\n\r\n    // Cloudinary\r\n    const data = new FormData();\r\n    data.append(\"file\", proyecto.productPicture);\r\n    data.append(\"upload_preset\", \"portfolio-aitor\");\r\n    data.append(\"cloud_name\", \"aitorcloud\");\r\n    fetch(\"https://api.cloudinary.com/v1_1/aitorcloud/image/upload\", {\r\n      method: \"post\",\r\n      body: data,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((file) => {\r\n        console.log(file.secure_url);\r\n        console.log(file);\r\n\r\n        // Agrego el producto\r\n        agregarProyecto({\r\n          name,\r\n          productPicture: file.secure_url,\r\n          category,\r\n          description,\r\n          linkto,\r\n          github,\r\n          skill: selectedValue,\r\n          video,\r\n          begin,\r\n          end,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    guardarProyecto({\r\n      name: \"\",\r\n      productPicture: \"\",\r\n      category: \"\",\r\n      description: \"\",\r\n      begin: \"\",\r\n      linto: \"\",\r\n      github: \"\",\r\n      skill: [],\r\n      video: \"\",\r\n      end: \"\",\r\n    });\r\n\r\n    console.log(proyecto);\r\n  };\r\n\r\n  return (\r\n    <div className=\"proyect-form-container\">\r\n      <div className=\"proyect-form\">\r\n        <div className=\"title-container\">\r\n          New Project<i class=\"fas fa-project-diagram\"></i>\r\n        </div>\r\n\r\n        <form onSubmit={onSubmit} encType=\"multipart/form-data\">\r\n          {error ? (\r\n            <div className=\"error-red\">Completa todos los campos</div>\r\n          ) : null}\r\n\r\n          <div className=\"cajetin-form\">\r\n            <input\r\n              className=\"line-form\"\r\n              type=\"text\"\r\n              name=\"name\"\r\n              placeholder=\"nombre\"\r\n              value={name}\r\n              onChange={onChange}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"cajetin-form\">\r\n            <label class=\"custom-file-upload\">\r\n              Select File <i class=\"far fa-file\"></i>\r\n              <input\r\n                className=\"line-form\"\r\n                type=\"file\"\r\n                name=\"productPicture\"\r\n                id=\"productPicture\"\r\n                placeholder=\"imagen\"\r\n                onChange={onChange}\r\n              />\r\n            </label>\r\n          </div>\r\n\r\n          <div className=\"cajetin-form\">\r\n            <select className=\"line-form\" name=\"category\" onChange={onChange}>\r\n              <option value=\"select\">Select...</option>\r\n              {categorias.map((categorySelect) => (\r\n                <option key={categorySelect.id} value={categorySelect.category}>\r\n                  {categorySelect.category}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"cajetin-form\">\r\n            <Select\r\n              isMulti\r\n              className=\"line-form-select\"\r\n              options={newOne}\r\n              value={newOne.filter((obj) => selectedValue.includes(obj.value))}\r\n              onChange={handleChange}\r\n            ></Select>\r\n          </div>\r\n\r\n          <div className=\"cajetin-form\">\r\n            <input\r\n              className=\"line-form\"\r\n              type=\"text\"\r\n              name=\"description\"\r\n              placeholder=\"descripción\"\r\n              value={description}\r\n              onChange={onChange}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"cajetin-form\">\r\n            <input\r\n              className=\"line-form\"\r\n              type=\"text\"\r\n              name=\"linkto\"\r\n              placeholder=\"linkto\"\r\n              value={linkto}\r\n              onChange={onChange}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"cajetin-form\">\r\n            <input\r\n              className=\"line-form\"\r\n              type=\"text\"\r\n              name=\"github\"\r\n              placeholder=\"github\"\r\n              value={github}\r\n              onChange={onChange}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"cajetin-form\">\r\n            <input\r\n              className=\"line-form\"\r\n              type=\"text\"\r\n              name=\"video\"\r\n              placeholder=\"video\"\r\n              value={video}\r\n              onChange={onChange}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"cajetin-form\">\r\n            <input\r\n              className=\"line-form\"\r\n              type=\"date\"\r\n              name=\"begin\"\r\n              placeholder=\"incicio\"\r\n              value={begin}\r\n              onChange={onChange}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"cajetin-form\">\r\n            <input\r\n              className=\"line-form\"\r\n              type=\"date\"\r\n              name=\"end\"\r\n              placeholder=\"finalizado\"\r\n              value={end}\r\n              onChange={onChange}\r\n            />\r\n          </div>\r\n\r\n          <button className=\"form-button\" type=\"submit\" value=\"Subir Proyecto\">\r\n            <i class=\"fas fa-arrow-circle-up\" alt=\"upload project\"></i>\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}