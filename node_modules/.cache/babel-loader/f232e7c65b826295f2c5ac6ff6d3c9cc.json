{"ast":null,"code":"import _defineProperty from\"/Users/usuario/Desktop/portfolio-aa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/usuario/Desktop/portfolio-aa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/usuario/Desktop/portfolio-aa/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useContext,useEffect}from\"react\";import AlertaContext from\"../../context/alertas/alertaContext\";import AuthContext from\"../../context/auth/authContext\";import\"./Register.css\";var Register=function Register(props){var alertaContext=useContext(AlertaContext);var alerta=alertaContext.alerta,mostrarAlerta=alertaContext.mostrarAlerta;var authContext=useContext(AuthContext);var mensaje=authContext.mensaje,autenticado=authContext.autenticado,registrarUsuario=authContext.registrarUsuario;// Una vez se registra y es autenticado le mando a...\nuseEffect(function(){if(autenticado){props.history.push(\"/login\");}if(mensaje){mostrarAlerta(mensaje.msg,mensaje.categoria);}},[mensaje,autenticado,props.history]);var _useState=useState({name:\"\",username:\"\",email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],guardarData=_useState2[1];var name=data.name,username=data.username,email=data.email,password=data.password;var onChange=function onChange(e){guardarData(_objectSpread(_objectSpread({},data),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();if(name.trim()===\"\"||username.trim()===\"\"||email.trim()===\"\"||password.trim()===\"\"){mostrarAlerta(\"Todos los campos son obligatorios\",\"alerta-error\");return;}if(password.length<6){mostrarAlerta(\"La contraseña debe de contener al menos 6 caracteres\",\"alerta-error\");return;}registrarUsuario({name:name,username:username,email:email,password:password});guardarData({name:\"\",username:\"\",email:\"\",password:\"\"});};return/*#__PURE__*/_jsx(\"div\",{className:\"register-background\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"register-container\",children:[alerta?/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(alerta.categoria),children:alerta.msg}):null,/*#__PURE__*/_jsx(\"form\",{className:\"login\",onSubmit:onSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"log-form-group\",children:/*#__PURE__*/_jsx(\"input\",{placeholder:\"nombre\",className:\"log-form-group\",type:\"text\",name:\"name\",value:name,onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"log-form-group\",children:/*#__PURE__*/_jsx(\"input\",{placeholder:\"username\",className:\"log-form-group\",type:\"text\",name:\"username\",value:username,onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"log-form-group\",children:/*#__PURE__*/_jsx(\"input\",{placeholder:\"email\",className:\"log-form-group\",type:\"email\",name:\"email\",value:email,onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"log-form-group\",children:/*#__PURE__*/_jsx(\"input\",{placeholder:\"password\",className:\"log-form-group\",type:\"password\",name:\"password\",value:password,onChange:onChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"log-form-group\",children:/*#__PURE__*/_jsx(\"input\",{className:\"button\",type:\"submit\",value:\"Registrarse\"})})]})})]})});};export default Register;","map":{"version":3,"sources":["/Users/usuario/Desktop/portfolio-aa/src/components/Auth/Register.js"],"names":["React","useState","useContext","useEffect","AlertaContext","AuthContext","Register","props","alertaContext","alerta","mostrarAlerta","authContext","mensaje","autenticado","registrarUsuario","history","push","msg","categoria","name","username","email","password","data","guardarData","onChange","e","target","value","onSubmit","preventDefault","trim","length"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\r\nimport AlertaContext from \"../../context/alertas/alertaContext\";\r\nimport AuthContext from \"../../context/auth/authContext\";\r\n\r\nimport \"./Register.css\";\r\n\r\nconst Register = (props) => {\r\n  const alertaContext = useContext(AlertaContext);\r\n  const { alerta, mostrarAlerta } = alertaContext;\r\n\r\n  const authContext = useContext(AuthContext);\r\n  const { mensaje, autenticado, registrarUsuario } = authContext;\r\n\r\n  // Una vez se registra y es autenticado le mando a...\r\n  useEffect(() => {\r\n    if (autenticado) {\r\n      props.history.push(\"/login\");\r\n    }\r\n    if (mensaje) {\r\n      mostrarAlerta(mensaje.msg, mensaje.categoria);\r\n    }\r\n  }, [mensaje, autenticado, props.history]);\r\n\r\n  const [data, guardarData] = useState({\r\n    name: \"\",\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const { name, username, email, password } = data;\r\n\r\n  const onChange = (e) => {\r\n    guardarData({\r\n      ...data,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (\r\n      name.trim() === \"\" ||\r\n      username.trim() === \"\" ||\r\n      email.trim() === \"\" ||\r\n      password.trim() === \"\"\r\n    ) {\r\n      mostrarAlerta(\"Todos los campos son obligatorios\", \"alerta-error\");\r\n      return;\r\n    }\r\n\r\n    if (password.length < 6) {\r\n      mostrarAlerta(\r\n        \"La contraseña debe de contener al menos 6 caracteres\",\r\n        \"alerta-error\"\r\n      );\r\n      return;\r\n    }\r\n\r\n    registrarUsuario({\r\n      name,\r\n      username,\r\n      email,\r\n      password,\r\n    });\r\n\r\n    guardarData({\r\n      name: \"\",\r\n      username: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"register-background\">\r\n      <div className=\"register-container\">\r\n        {alerta ? (\r\n          <div className={`${alerta.categoria}`}>{alerta.msg}</div>\r\n        ) : null}\r\n\r\n        <form className=\"login\" onSubmit={onSubmit}>\r\n          <div className=\"login-wrap\">\r\n            <div className=\"log-form-group\">\r\n              <input\r\n                placeholder=\"nombre\"\r\n                className=\"log-form-group\"\r\n                type=\"text\"\r\n                name=\"name\"\r\n                value={name}\r\n                onChange={onChange}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"log-form-group\">\r\n              <input\r\n                placeholder=\"username\"\r\n                className=\"log-form-group\"\r\n                type=\"text\"\r\n                name=\"username\"\r\n                value={username}\r\n                onChange={onChange}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"log-form-group\">\r\n              <input\r\n                placeholder=\"email\"\r\n                className=\"log-form-group\"\r\n                type=\"email\"\r\n                name=\"email\"\r\n                value={email}\r\n                onChange={onChange}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"log-form-group\">\r\n              <input\r\n                placeholder=\"password\"\r\n                className=\"log-form-group\"\r\n                type=\"password\"\r\n                name=\"password\"\r\n                value={password}\r\n                onChange={onChange}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"log-form-group\">\r\n              <input className=\"button\" type=\"submit\" value=\"Registrarse\" />\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"]},"metadata":{},"sourceType":"module"}