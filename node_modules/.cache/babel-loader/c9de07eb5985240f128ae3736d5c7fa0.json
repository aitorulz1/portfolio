{"ast":null,"code":"import _regeneratorRuntime from\"/Users/usuario/Desktop/portfolio-cliente-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/usuario/Desktop/portfolio-cliente-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/usuario/Desktop/portfolio-cliente-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useReducer}from\"react\";import clienteAxios from\"../../service/axios\";import proyectoContext from\"./proyectoContext\";import proyectoReducer from\"./proyectoReducer\";import projectsData from\"../../data/projects.json\";import{MOSTRAR_FORMULARIO,AGREGAR_PROYECTOS,OBTENER_PROYECTOS,PROYECTO_ACTUAL,ELIMINAR_PROYECTO,PROYECTO_ERROR}from\"../../types\";var ProyectoState=function ProyectoState(props){var initialState={proyectos:projectsData,formulario:false,category:null,proyecto:null,proyectoeditar:null};var _useReducer=useReducer(proyectoReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var mostrarFormulario=function mostrarFormulario(){dispatch({type:MOSTRAR_FORMULARIO});};var obtenerProyectos=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(proyectos){var resultado,alerta;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return clienteAxios.get(\"/products\",proyectos);case 3:resultado=_context.sent;dispatch({type:OBTENER_PROYECTOS,payload:resultado.data});_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);alerta={msg:\"Hubo un error\",categoria:\"alerta-error\"};dispatch({type:PROYECTO_ERROR,payload:alerta});case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function obtenerProyectos(_x){return _ref.apply(this,arguments);};}();var agregarProyecto=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(proyecto){var resultado,alerta;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return clienteAxios.post(\"/products\",proyecto);case 3:resultado=_context2.sent;dispatch({type:AGREGAR_PROYECTOS,payload:resultado.data});_context2.next=11;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);alerta={msg:\"Hubo un error\",categoria:\"alerta-error\"};dispatch({type:PROYECTO_ERROR,payload:alerta});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function agregarProyecto(_x2){return _ref2.apply(this,arguments);};}();var obtenerCategory=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(category){var resultado,alerta;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return clienteAxios.get(\"/category/:category\",category);case 3:resultado=_context3.sent;_context3.next=10;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);alerta={msg:\"Hubo un error\",categoria:\"alerta-error\"};dispatch({type:PROYECTO_ERROR,payload:alerta});case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6]]);}));return function obtenerCategory(_x3){return _ref3.apply(this,arguments);};}();// Selecciona el proyecto que queremos ver\nvar proyectoActual=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(proyecto){var resultado,alerta;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return clienteAxios.get(\"/products/\".concat(proyecto),proyecto);case 3:resultado=_context4.sent;dispatch({type:PROYECTO_ACTUAL,payload:resultado.data});_context4.next=11;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);alerta={msg:\"No recibo objeto\",categoria:\"alerta-error\"};dispatch({type:PROYECTO_ERROR,payload:alerta});case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function proyectoActual(_x4){return _ref4.apply(this,arguments);};}();var eliminarProyecto=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(proyecto){var resultado,alerta;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return clienteAxios.delete(\"/products/\".concat(proyecto),proyecto);case 3:resultado=_context5.sent;dispatch({type:ELIMINAR_PROYECTO,payload:resultado.data});_context5.next=11;break;case 7:_context5.prev=7;_context5.t0=_context5[\"catch\"](0);alerta={msg:\"No recibo objeto\",categoria:\"alerta-error\"};dispatch({type:PROYECTO_ERROR,payload:alerta});case 11:case\"end\":return _context5.stop();}}},_callee5,null,[[0,7]]);}));return function eliminarProyecto(_x5){return _ref5.apply(this,arguments);};}();return/*#__PURE__*/_jsx(proyectoContext.Provider,{value:{proyectos:state.proyectos,formulario:state.formulario,category:state.category,proyecto:state.proyecto,mostrarFormulario:mostrarFormulario,obtenerProyectos:obtenerProyectos,agregarProyecto:agregarProyecto,obtenerCategory:obtenerCategory,proyectoActual:proyectoActual,eliminarProyecto:eliminarProyecto},children:props.children});};export default ProyectoState;","map":{"version":3,"sources":["/Users/usuario/Desktop/portfolio-cliente-main/src/context/proyectos/proyectoState.js"],"names":["React","useReducer","clienteAxios","proyectoContext","proyectoReducer","projectsData","MOSTRAR_FORMULARIO","AGREGAR_PROYECTOS","OBTENER_PROYECTOS","PROYECTO_ACTUAL","ELIMINAR_PROYECTO","PROYECTO_ERROR","ProyectoState","props","initialState","proyectos","formulario","category","proyecto","proyectoeditar","state","dispatch","mostrarFormulario","type","obtenerProyectos","get","resultado","payload","data","alerta","msg","categoria","agregarProyecto","post","obtenerCategory","proyectoActual","eliminarProyecto","delete","children"],"mappings":"ohBAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,MAAOC,CAAAA,YAAP,KAAyB,qBAAzB,CAEA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CAEA,MAAOC,CAAAA,YAAP,KAAyB,0BAAzB,CAEA,OACEC,kBADF,CAEEC,iBAFF,CAGEC,iBAHF,CAIEC,eAJF,CAKEC,iBALF,CAMEC,cANF,KAOO,aAPP,CASA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CAC/B,GAAMC,CAAAA,YAAY,CAAG,CACnBC,SAAS,CAAEV,YADQ,CAEnBW,UAAU,CAAE,KAFO,CAGnBC,QAAQ,CAAE,IAHS,CAInBC,QAAQ,CAAE,IAJS,CAKnBC,cAAc,CAAE,IALG,CAArB,CAD+B,gBASLlB,UAAU,CAACG,eAAD,CAAkBU,YAAlB,CATL,4CASxBM,KATwB,iBASjBC,QATiB,iBAW/B,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CAC9BD,QAAQ,CAAC,CACPE,IAAI,CAAEjB,kBADC,CAAD,CAAR,CAGD,CAJD,CAMA,GAAMkB,CAAAA,gBAAgB,0FAAG,iBAAOT,SAAP,6KAEGb,CAAAA,YAAY,CAACuB,GAAb,CAAiB,WAAjB,CAA8BV,SAA9B,CAFH,QAEfW,SAFe,eAIrBL,QAAQ,CAAC,CACPE,IAAI,CAAEf,iBADC,CAEPmB,OAAO,CAAED,SAAS,CAACE,IAFZ,CAAD,CAAR,CAJqB,+EASfC,MATe,CASN,CACbC,GAAG,CAAE,eADQ,CAEbC,SAAS,CAAE,cAFE,CATM,CAarBV,QAAQ,CAAC,CACPE,IAAI,CAAEZ,cADC,CAEPgB,OAAO,CAAEE,MAFF,CAAD,CAAR,CAbqB,oEAAH,kBAAhBL,CAAAA,gBAAgB,4CAAtB,CAoBA,GAAMQ,CAAAA,eAAe,2FAAG,kBAAOd,QAAP,mLAEIhB,CAAAA,YAAY,CAAC+B,IAAb,CAAkB,WAAlB,CAA+Bf,QAA/B,CAFJ,QAEdQ,SAFc,gBAGpBL,QAAQ,CAAC,CACPE,IAAI,CAAEhB,iBADC,CAEPoB,OAAO,CAAED,SAAS,CAACE,IAFZ,CAAD,CAAR,CAHoB,mFAQdC,MARc,CAQL,CACbC,GAAG,CAAE,eADQ,CAEbC,SAAS,CAAE,cAFE,CARK,CAYpBV,QAAQ,CAAC,CACPE,IAAI,CAAEZ,cADC,CAEPgB,OAAO,CAAEE,MAFF,CAAD,CAAR,CAZoB,sEAAH,kBAAfG,CAAAA,eAAe,8CAArB,CAmBA,GAAME,CAAAA,eAAe,2FAAG,kBAAOjB,QAAP,mLAEIf,CAAAA,YAAY,CAACuB,GAAb,CAAiB,qBAAjB,CAAwCR,QAAxC,CAFJ,QAEdS,SAFc,mGAIdG,MAJc,CAIL,CACbC,GAAG,CAAE,eADQ,CAEbC,SAAS,CAAE,cAFE,CAJK,CAQpBV,QAAQ,CAAC,CACPE,IAAI,CAAEZ,cADC,CAEPgB,OAAO,CAAEE,MAFF,CAAD,CAAR,CARoB,sEAAH,kBAAfK,CAAAA,eAAe,8CAArB,CAeA;AACA,GAAMC,CAAAA,cAAc,2FAAG,kBAAOjB,QAAP,mLAEKhB,CAAAA,YAAY,CAACuB,GAAb,qBACTP,QADS,EAEtBA,QAFsB,CAFL,QAEbQ,SAFa,gBAOnBL,QAAQ,CAAC,CACPE,IAAI,CAAEd,eADC,CAEPkB,OAAO,CAAED,SAAS,CAACE,IAFZ,CAAD,CAAR,CAPmB,mFAYbC,MAZa,CAYJ,CACbC,GAAG,CAAE,kBADQ,CAEbC,SAAS,CAAE,cAFE,CAZI,CAgBnBV,QAAQ,CAAC,CACPE,IAAI,CAAEZ,cADC,CAEPgB,OAAO,CAAEE,MAFF,CAAD,CAAR,CAhBmB,sEAAH,kBAAdM,CAAAA,cAAc,8CAApB,CAuBA,GAAMC,CAAAA,gBAAgB,2FAAG,kBAAOlB,QAAP,mLAEGhB,CAAAA,YAAY,CAACmC,MAAb,qBACTnB,QADS,EAEtBA,QAFsB,CAFH,QAEfQ,SAFe,gBAOrBL,QAAQ,CAAC,CACPE,IAAI,CAAEb,iBADC,CAEPiB,OAAO,CAAED,SAAS,CAACE,IAFZ,CAAD,CAAR,CAPqB,mFAYfC,MAZe,CAYN,CACbC,GAAG,CAAE,kBADQ,CAEbC,SAAS,CAAE,cAFE,CAZM,CAgBrBV,QAAQ,CAAC,CACPE,IAAI,CAAEZ,cADC,CAEPgB,OAAO,CAAEE,MAFF,CAAD,CAAR,CAhBqB,sEAAH,kBAAhBO,CAAAA,gBAAgB,8CAAtB,CAuBA,mBACE,KAAC,eAAD,CAAiB,QAAjB,EACE,KAAK,CAAE,CACLrB,SAAS,CAAEK,KAAK,CAACL,SADZ,CAELC,UAAU,CAAEI,KAAK,CAACJ,UAFb,CAGLC,QAAQ,CAAEG,KAAK,CAACH,QAHX,CAILC,QAAQ,CAAEE,KAAK,CAACF,QAJX,CAKLI,iBAAiB,CAAjBA,iBALK,CAMLE,gBAAgB,CAAhBA,gBANK,CAOLQ,eAAe,CAAfA,eAPK,CAQLE,eAAe,CAAfA,eARK,CASLC,cAAc,CAAdA,cATK,CAULC,gBAAgB,CAAhBA,gBAVK,CADT,UAcGvB,KAAK,CAACyB,QAdT,EADF,CAkBD,CAxID,CA0IA,cAAe1B,CAAAA,aAAf","sourcesContent":["import React, { useReducer } from \"react\";\r\nimport clienteAxios from \"../../service/axios\";\r\n\r\nimport proyectoContext from \"./proyectoContext\";\r\nimport proyectoReducer from \"./proyectoReducer\";\r\n\r\nimport projectsData from \"../../data/projects.json\";\r\n\r\nimport {\r\n  MOSTRAR_FORMULARIO,\r\n  AGREGAR_PROYECTOS,\r\n  OBTENER_PROYECTOS,\r\n  PROYECTO_ACTUAL,\r\n  ELIMINAR_PROYECTO,\r\n  PROYECTO_ERROR,\r\n} from \"../../types\";\r\n\r\nconst ProyectoState = (props) => {\r\n  const initialState = {\r\n    proyectos: projectsData,\r\n    formulario: false,\r\n    category: null,\r\n    proyecto: null,\r\n    proyectoeditar: null,\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(proyectoReducer, initialState);\r\n\r\n  const mostrarFormulario = () => {\r\n    dispatch({\r\n      type: MOSTRAR_FORMULARIO,\r\n    });\r\n  };\r\n\r\n  const obtenerProyectos = async (proyectos) => {\r\n    try {\r\n      const resultado = await clienteAxios.get(\"/products\", proyectos);\r\n\r\n      dispatch({\r\n        type: OBTENER_PROYECTOS,\r\n        payload: resultado.data,\r\n      });\r\n    } catch (error) {\r\n      const alerta = {\r\n        msg: \"Hubo un error\",\r\n        categoria: \"alerta-error\",\r\n      };\r\n      dispatch({\r\n        type: PROYECTO_ERROR,\r\n        payload: alerta,\r\n      });\r\n    }\r\n  };\r\n\r\n  const agregarProyecto = async (proyecto) => {\r\n    try {\r\n      const resultado = await clienteAxios.post(\"/products\", proyecto);\r\n      dispatch({\r\n        type: AGREGAR_PROYECTOS,\r\n        payload: resultado.data,\r\n      });\r\n    } catch (error) {\r\n      const alerta = {\r\n        msg: \"Hubo un error\",\r\n        categoria: \"alerta-error\",\r\n      };\r\n      dispatch({\r\n        type: PROYECTO_ERROR,\r\n        payload: alerta,\r\n      });\r\n    }\r\n  };\r\n\r\n  const obtenerCategory = async (category) => {\r\n    try {\r\n      const resultado = await clienteAxios.get(\"/category/:category\", category);\r\n    } catch (error) {\r\n      const alerta = {\r\n        msg: \"Hubo un error\",\r\n        categoria: \"alerta-error\",\r\n      };\r\n      dispatch({\r\n        type: PROYECTO_ERROR,\r\n        payload: alerta,\r\n      });\r\n    }\r\n  };\r\n\r\n  // Selecciona el proyecto que queremos ver\r\n  const proyectoActual = async (proyecto) => {\r\n    try {\r\n      const resultado = await clienteAxios.get(\r\n        `/products/${proyecto}`,\r\n        proyecto\r\n      );\r\n\r\n      dispatch({\r\n        type: PROYECTO_ACTUAL,\r\n        payload: resultado.data,\r\n      });\r\n    } catch (error) {\r\n      const alerta = {\r\n        msg: \"No recibo objeto\",\r\n        categoria: \"alerta-error\",\r\n      };\r\n      dispatch({\r\n        type: PROYECTO_ERROR,\r\n        payload: alerta,\r\n      });\r\n    }\r\n  };\r\n\r\n  const eliminarProyecto = async (proyecto) => {\r\n    try {\r\n      const resultado = await clienteAxios.delete(\r\n        `/products/${proyecto}`,\r\n        proyecto\r\n      );\r\n\r\n      dispatch({\r\n        type: ELIMINAR_PROYECTO,\r\n        payload: resultado.data,\r\n      });\r\n    } catch (error) {\r\n      const alerta = {\r\n        msg: \"No recibo objeto\",\r\n        categoria: \"alerta-error\",\r\n      };\r\n      dispatch({\r\n        type: PROYECTO_ERROR,\r\n        payload: alerta,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <proyectoContext.Provider\r\n      value={{\r\n        proyectos: state.proyectos,\r\n        formulario: state.formulario,\r\n        category: state.category,\r\n        proyecto: state.proyecto,\r\n        mostrarFormulario,\r\n        obtenerProyectos,\r\n        agregarProyecto,\r\n        obtenerCategory,\r\n        proyectoActual,\r\n        eliminarProyecto,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </proyectoContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ProyectoState;\r\n"]},"metadata":{},"sourceType":"module"}