{"ast":null,"code":"import _regeneratorRuntime from\"/Users/usuario/Desktop/portfolio-aa/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/usuario/Desktop/portfolio-aa/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/usuario/Desktop/portfolio-aa/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useReducer}from\"react\";import clienteAxios from\"../../service/axios\";import proyectoContext from\"./proyectoContext\";import proyectoReducer from\"./proyectoReducer\";import projectsData from\"../../data/projects.json\";import{MOSTRAR_FORMULARIO,AGREGAR_PROYECTOS,OBTENER_PROYECTOS,PROYECTO_ACTUAL,ELIMINAR_PROYECTO,PROYECTO_ERROR}from\"../../types\";import{jsx as _jsx}from\"react/jsx-runtime\";var ProyectoState=function ProyectoState(props){var initialState={proyectos:projectsData,formulario:false,category:null,proyecto:null,proyectoeditar:null};var _useReducer=useReducer(proyectoReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var mostrarFormulario=function mostrarFormulario(){dispatch({type:MOSTRAR_FORMULARIO});};var obtenerProyectos=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(proyectos){var resultado,alerta;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return clienteAxios.get(\"/products\",proyectos);case 3:resultado=_context.sent;dispatch({type:OBTENER_PROYECTOS,payload:resultado.data});_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);alerta={msg:\"Hubo un error\",categoria:\"alerta-error\"};dispatch({type:PROYECTO_ERROR,payload:alerta});case 11:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function obtenerProyectos(_x){return _ref.apply(this,arguments);};}();var agregarProyecto=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(proyecto){var resultado,alerta;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return clienteAxios.post(\"/products\",proyecto);case 3:resultado=_context2.sent;dispatch({type:AGREGAR_PROYECTOS,payload:resultado.data});_context2.next=11;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);alerta={msg:\"Hubo un error\",categoria:\"alerta-error\"};dispatch({type:PROYECTO_ERROR,payload:alerta});case 11:case\"end\":return _context2.stop();}},_callee2,null,[[0,7]]);}));return function agregarProyecto(_x2){return _ref2.apply(this,arguments);};}();var obtenerCategory=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(category){var resultado,alerta;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return clienteAxios.get(\"/category/:category\",category);case 3:resultado=_context3.sent;_context3.next=10;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);alerta={msg:\"Hubo un error\",categoria:\"alerta-error\"};dispatch({type:PROYECTO_ERROR,payload:alerta});case 10:case\"end\":return _context3.stop();}},_callee3,null,[[0,6]]);}));return function obtenerCategory(_x3){return _ref3.apply(this,arguments);};}();// Selecciona el proyecto que queremos ver\nvar proyectoActual=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(proyecto){var resultado,alerta;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return clienteAxios.get(\"/products/\".concat(proyecto),proyecto);case 3:resultado=_context4.sent;dispatch({type:PROYECTO_ACTUAL,payload:resultado.data});_context4.next=11;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);alerta={msg:\"No recibo objeto\",categoria:\"alerta-error\"};dispatch({type:PROYECTO_ERROR,payload:alerta});case 11:case\"end\":return _context4.stop();}},_callee4,null,[[0,7]]);}));return function proyectoActual(_x4){return _ref4.apply(this,arguments);};}();var eliminarProyecto=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(proyecto){var resultado,alerta;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return clienteAxios.delete(\"/products/\".concat(proyecto),proyecto);case 3:resultado=_context5.sent;dispatch({type:ELIMINAR_PROYECTO,payload:resultado.data});_context5.next=11;break;case 7:_context5.prev=7;_context5.t0=_context5[\"catch\"](0);alerta={msg:\"No recibo objeto\",categoria:\"alerta-error\"};dispatch({type:PROYECTO_ERROR,payload:alerta});case 11:case\"end\":return _context5.stop();}},_callee5,null,[[0,7]]);}));return function eliminarProyecto(_x5){return _ref5.apply(this,arguments);};}();return/*#__PURE__*/_jsx(proyectoContext.Provider,{value:{proyectos:state.proyectos,formulario:state.formulario,category:state.category,proyecto:state.proyecto,mostrarFormulario:mostrarFormulario,obtenerProyectos:obtenerProyectos,agregarProyecto:agregarProyecto,obtenerCategory:obtenerCategory,proyectoActual:proyectoActual,eliminarProyecto:eliminarProyecto},children:props.children});};export default ProyectoState;","map":{"version":3,"names":["React","useReducer","clienteAxios","proyectoContext","proyectoReducer","projectsData","MOSTRAR_FORMULARIO","AGREGAR_PROYECTOS","OBTENER_PROYECTOS","PROYECTO_ACTUAL","ELIMINAR_PROYECTO","PROYECTO_ERROR","jsx","_jsx","ProyectoState","props","initialState","proyectos","formulario","category","proyecto","proyectoeditar","_useReducer","_useReducer2","_slicedToArray","state","dispatch","mostrarFormulario","type","obtenerProyectos","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resultado","alerta","wrap","_callee$","_context","prev","next","get","sent","payload","data","t0","msg","categoria","stop","_x","apply","arguments","agregarProyecto","_ref2","_callee2","_callee2$","_context2","post","_x2","obtenerCategory","_ref3","_callee3","_callee3$","_context3","_x3","proyectoActual","_ref4","_callee4","_callee4$","_context4","concat","_x4","eliminarProyecto","_ref5","_callee5","_callee5$","_context5","delete","_x5","Provider","value","children"],"sources":["/Users/usuario/Desktop/portfolio-aa/src/context/proyectos/proyectoState.js"],"sourcesContent":["import React, { useReducer } from \"react\";\r\nimport clienteAxios from \"../../service/axios\";\r\n\r\nimport proyectoContext from \"./proyectoContext\";\r\nimport proyectoReducer from \"./proyectoReducer\";\r\n\r\nimport projectsData from \"../../data/projects.json\";\r\n\r\nimport {\r\n  MOSTRAR_FORMULARIO,\r\n  AGREGAR_PROYECTOS,\r\n  OBTENER_PROYECTOS,\r\n  PROYECTO_ACTUAL,\r\n  ELIMINAR_PROYECTO,\r\n  PROYECTO_ERROR,\r\n} from \"../../types\";\r\n\r\nconst ProyectoState = (props) => {\r\n  const initialState = {\r\n    proyectos: projectsData,\r\n    formulario: false,\r\n    category: null,\r\n    proyecto: null,\r\n    proyectoeditar: null,\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(proyectoReducer, initialState);\r\n\r\n  const mostrarFormulario = () => {\r\n    dispatch({\r\n      type: MOSTRAR_FORMULARIO,\r\n    });\r\n  };\r\n\r\n  const obtenerProyectos = async (proyectos) => {\r\n    try {\r\n      const resultado = await clienteAxios.get(\"/products\", proyectos);\r\n\r\n      dispatch({\r\n        type: OBTENER_PROYECTOS,\r\n        payload: resultado.data,\r\n      });\r\n    } catch (error) {\r\n      const alerta = {\r\n        msg: \"Hubo un error\",\r\n        categoria: \"alerta-error\",\r\n      };\r\n      dispatch({\r\n        type: PROYECTO_ERROR,\r\n        payload: alerta,\r\n      });\r\n    }\r\n  };\r\n\r\n  const agregarProyecto = async (proyecto) => {\r\n    try {\r\n      const resultado = await clienteAxios.post(\"/products\", proyecto);\r\n      dispatch({\r\n        type: AGREGAR_PROYECTOS,\r\n        payload: resultado.data,\r\n      });\r\n    } catch (error) {\r\n      const alerta = {\r\n        msg: \"Hubo un error\",\r\n        categoria: \"alerta-error\",\r\n      };\r\n      dispatch({\r\n        type: PROYECTO_ERROR,\r\n        payload: alerta,\r\n      });\r\n    }\r\n  };\r\n\r\n  const obtenerCategory = async (category) => {\r\n    try {\r\n      const resultado = await clienteAxios.get(\"/category/:category\", category);\r\n    } catch (error) {\r\n      const alerta = {\r\n        msg: \"Hubo un error\",\r\n        categoria: \"alerta-error\",\r\n      };\r\n      dispatch({\r\n        type: PROYECTO_ERROR,\r\n        payload: alerta,\r\n      });\r\n    }\r\n  };\r\n\r\n  // Selecciona el proyecto que queremos ver\r\n  const proyectoActual = async (proyecto) => {\r\n    try {\r\n      const resultado = await clienteAxios.get(\r\n        `/products/${proyecto}`,\r\n        proyecto\r\n      );\r\n\r\n      dispatch({\r\n        type: PROYECTO_ACTUAL,\r\n        payload: resultado.data,\r\n      });\r\n    } catch (error) {\r\n      const alerta = {\r\n        msg: \"No recibo objeto\",\r\n        categoria: \"alerta-error\",\r\n      };\r\n      dispatch({\r\n        type: PROYECTO_ERROR,\r\n        payload: alerta,\r\n      });\r\n    }\r\n  };\r\n\r\n  const eliminarProyecto = async (proyecto) => {\r\n    try {\r\n      const resultado = await clienteAxios.delete(\r\n        `/products/${proyecto}`,\r\n        proyecto\r\n      );\r\n\r\n      dispatch({\r\n        type: ELIMINAR_PROYECTO,\r\n        payload: resultado.data,\r\n      });\r\n    } catch (error) {\r\n      const alerta = {\r\n        msg: \"No recibo objeto\",\r\n        categoria: \"alerta-error\",\r\n      };\r\n      dispatch({\r\n        type: PROYECTO_ERROR,\r\n        payload: alerta,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <proyectoContext.Provider\r\n      value={{\r\n        proyectos: state.proyectos,\r\n        formulario: state.formulario,\r\n        category: state.category,\r\n        proyecto: state.proyecto,\r\n        mostrarFormulario,\r\n        obtenerProyectos,\r\n        agregarProyecto,\r\n        obtenerCategory,\r\n        proyectoActual,\r\n        eliminarProyecto,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </proyectoContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ProyectoState;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}